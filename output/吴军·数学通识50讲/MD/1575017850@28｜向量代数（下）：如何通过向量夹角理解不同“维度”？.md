# 28｜向量代数（下）：如何通过向量夹角理解不同“维度”？

你好，欢迎来到我的《数学通识50讲》。

上一讲我们讲到，要形成合力，就需要力的方向一致。类似的，要走得远，也需要前进的方向不经常出现偏差，这些都涉及到向量之间角度的计算。而这个计算是依靠余弦定理完成的。

余弦定理大家在中学都学过，但我估计绝大部分人都忘了，因为你恐怕一辈子也没有用一次。这也不能完全怪大家，因为在中学里，我们教余弦定理时，主要是为了让大家知道在三角形已知两条边的情况下，如何计算第三条边的长度，而这件事在我们生活中几乎用不到。我们的教科书中，对于余弦定理其它的应用根本没有讲。

今天，我们就从毕达哥拉斯定理出发，给大家定性地讲讲余弦定理是怎么一回事，看看它除了算三角形的边长外，还有什么用。

我们先来回顾一下毕达哥拉斯定理。假如三角形的两条直角边是a和b，那么斜边c²=a²+b²。为了加强你的感性认识，我把之前我们画的图又画了一遍，然后把这个公式写在了图的下方：

![https://piccdn3.umiwi.com/img/201911/29/201911291659006788001599.png](https://piccdn3.umiwi.com/img/201911/29/201911291659006788001599.png)

接下来我问大家一个问题，如果a和b的夹角是锐角，也就是比90度小，那么c²和a²+b²哪个更大？如果是钝角呢，也就是比90度大的角，情况又如何呢？这个问题其实我们画一下图就一目了然了。

![https://piccdn3.umiwi.com/img/201911/29/201911291659587085929943.png](https://piccdn3.umiwi.com/img/201911/29/201911291659587085929943.png)

从图中很容易看出，如果a和b的夹角超过90度，也就是图中蓝色的部分，所对应的斜边比较长，c²超过了a²+b²。如果不到90度，那么就比较短，c²<a²+b²。

也就是说，对比一下c²，以及a²+b²，就知道夹角是什么样的角了。为了进一步方便起见，我们把毕达哥拉斯定理重新写一下，变成这样一种形式：a²+b²-c²=0，我们将等式左边的部分，也就是a²+b²-c²作为一个判定因子使用，我们用Δ表示它。根据Δ和0比较的大小，就可以判断夹角。具体的判别如下：判定因子小于0为钝角，等于0为直角，大于0为锐角。

![https://piccdn3.umiwi.com/img/201911/29/201911291703025009596961.png](https://piccdn3.umiwi.com/img/201911/29/201911291703025009596961.png)

如果我们回顾一下函数的概念，就会发现Δ是a，b，c三个变量的函数。对于同样一个角，如果三角形边长都比较长，那么Δ的动态范围很大。如果边长很短，Δ的动态范围就很小。

为了消除边长的影响，我们将Δ再除以夹角的两个边长（a和b）的积，这样可以保证处理过的Δ的动态范围就在-2到+2之间。

如果Δ=-2，那么夹角最大，就是180度。如果是0，就是90度。如果是2，就是0度角。当然我们还可以再除以2，将这个值的范围规整为-1到1之间，事实上它就等于夹角的余弦。

 **这样一来，我们就从毕达哥拉斯定理出发，建立了角度判定因子Δ和具体角度的关系，然后我们将这种关系称作余弦定理。**

余弦定理的思想最初出现在欧几里得的《几何原本》中，但是由于当时并没有成体系的三角学，因此并没有把这个判定因子和角度的函数用余弦表示出来。到了15世纪，波斯数学家贾姆希德·阿尔卡西正式提出了余弦定理。

今天，我们之所以花了不少篇幅讲解余弦定理的来龙去脉，是让你再次体会数学体系的重要性，因为它可以从已知的定理推导出新的定理。由此，我们可以体会各种数学概念之间的关联。当然这只是我们讲述余弦定理的附带目的，主要目的是介绍向量夹角的计算。

回到向量夹角计算的问题，当两个向量确定之后，我们可以把它们的起点都挪到原点，它们各自的终点和原点之间，就构成一个三角形，如下图所示。这个三角形的三条边显然是确定的，由此我们可以算出判定因子Δ，然后根据余弦定理计算两个向量的夹角。

![https://piccdn3.umiwi.com/img/201911/29/201911291703420143132714.png](https://piccdn3.umiwi.com/img/201911/29/201911291703420143132714.png)

 **接下来的问题就是，算出两个向量的夹角有什么用？** 它其实有很多的应用，比如可以对文本进行自动分类。这两件事情看似不相干，怎么会联系到一起呢？下面我们就大致介绍一下计算机进行文本自动分类的原理。

我们知道一篇文章的主题和内容，其实是由它所使用的文字决定的，不同的文章使用的文字不同，但是主题相似的文章使用的文字有很大的相似性。比如讲金融的文章里面可能会经常出现“金融”、“股票”、“交易”、“经济”等词，讲计算机的则会经常出现“软件”、“互联网”、“半导体”等词。

假如这两部分关键词没有重复，那么我们很容易把这两类文本分开。假如它们有重复怎么办？那么我们就要看这两类文章中，各个词的频率了。根据我们的经验，即使在金融类的文章中混有一些计算机类的词，那么它们的词频不会太高，反之亦然。

为方便说明如何区分这两类文章，我们就假设汉语中只有“金融”、“股票”、“交易”、“经济”、“计算机”、“软件”、“互联网”和“半导体”这八个词。假设有一篇经济学的文章，这八个词出现的次数分别是（23，32，14，10，1，0，3，2），另一篇是计算机的文章，这八个词出现的次数是（3，2，4，0，41，30，31，12），这样它们就各自形成一个八维的向量，我们称之为V1和V2。

如果我们能够在八维空间中将它们画出来，你就会发现它们之间的夹角非常大。我算了一下，大概是82度，近乎垂直，或者说正交。由于这些向量每一个维度都是正数，因此它们最大的夹角就是90度，不会更大了。这说明两类不同文章所对应的向量之间的夹角应该很大。

如果我们再假设另有一篇文章，八个词的词频是V3=（1，3，0，2，25，23，14，10），那么它和上述第二篇文章对应的向量的夹角只有7.5度。我用二维的坐标将这三个向量的关系大致示意如下。

![https://piccdn3.umiwi.com/img/201911/29/201911291704337997978853.png](https://piccdn3.umiwi.com/img/201911/29/201911291704337997978853.png)

从图中可以看出第一个和第二个向量的角度很大，而第二个、第三个的夹角很小。由此，我们大致可以判定第三篇文章应该和第二篇主题相近，也属于计算机类的。

接下来我们需要思考一个问题，什么样的向量之间夹角会比较小，什么样的会几乎正交呢？如果你对比上面三个向量，就会发现这样一个特点：当两个向量在同样的维度上的分量都比较大时，它们的夹角就很小。反之，当两个向量在不同维度上分量较大时，就近乎正交。

比如第二个、第三个向量，它们在后四个维度分量值都较大，因此它们的夹角就小。而第一个向量在前四个维度的分量较大，在后四个很小，和第二个向量的情况正好错开，因此就近乎正交。关于向量的夹角，有两个特殊情况大家需要留心一下：

* 如果两个向量在各个维度的分量成比例，则它们的夹角为零。

* 如果一个向量在所有的维度都相等，比如像（10，10，10，10，10，10，10，10）这样的向量，它可能和任何一个向量都不太接近。这个性质我们后面还要用到。

当然，在真实的文本分类中不止这8个词，有10万这个数量级的词汇，因此每一篇文章对应的向量大约有10万维左右，这些向量我们称之为特征向量。通过利用余弦定理计算特征向量之间的夹角，我们就能判断哪些文本比较接近，该属于同一类。

向量不仅可以对文章进行分类，而且还可以对人进行分类。今天很多大公司在招聘员工时，由于简历特别多，会先用计算机自动筛选简历，其方法的本质，就是把人根据简历向量化，然后计算夹角。具体的做法常常是这样的：

首先，它们会把各种技能和素质列成一张表，这就如同我们在做文本分类时会把词汇列成一张表一样，这个表有N个维度。

对于不同岗位人员的要求，体现为某些维度权重很高，某些较低，一些无关的就可以是零。比如说对开发人员的要求主要是六个方面，权重如下:

* 编程能力 40

* 工程经验 20

* 沟通能力 10

* 学历和专业基础 10

* 领导力 10

* 和企业文化的融合度 10

对销售岗位的要求会有所不同。这样每个职位都对应一个N维的向量，我们假设是V。

接下来计算机会对简历进行分析，把每一份简历变成一个N维的向量，我们假设是P。

然后我们就计算P和V的夹角，如果夹角非常小，那说明某一份简历和某一个岗位可能比较匹配。这时简历才转到相应的HR部门，HR人员才开始看简历。

如果某份简历和哪一个岗位都不太匹配，这份简历就石沉大海了。这种做法是否会有误差，让一些好的候选人永远进不了HR人员的视野呢？完全有可能，但是这种概率并不高，因为计算机做的只是初步筛选，标准是比较宽的。

要知道今天像Google、Facebook或者微软这样的公司，一个职位常常有上百个求职者，最少也有十几个，合格的多则有十个、八个，少则有三五个，漏掉一两个合格的人，对公司来讲没什么损失。但是这对于求职者来讲，就是100%的损失。因此， **除非有非常强的推荐，否则简历写得不好经常连第一关都过不了。**

很多人在写简历时常犯的一个毛病就是重点不突出，他们所对应的向量其实就是一种每个维度数值都差不多的向量。我们在前面讲了，这种向量和其它向量的匹配度都不高。

很多人喜欢在简历中把自己有关或无关，所有的经历都写进去，然后把自己描绘成全能的人，其实在计算机匹配简历和工作时，这种简历常常一个职位都匹配不上，因为这就像我们前面说的每个分量都是10的向量，和谁的夹角都小不了一样。

 *很多人觉得多写点东西没坏处，这种认识是错误的，这些画蛇添足的内容其实稀释了求职者的竞争力。*

那么好的简历应该是什么样的呢？ *如果你在求职单位有熟人，不妨问问他们对某个职位的要求，然后根据这个要求写简历，这样在他们看中的维度你的得分就高，在他们根本不在意的维度，你也不需要强调。*

今天我们讲了向量之间的夹角是如何计算的。通过它，我们回顾了毕达哥拉斯定理，介绍了余弦定理。然后我们用一些实例说明了向量的用途。下一讲我们看看，很多向量放到一起，会变成什么。

![https://piccdn3.umiwi.com/img/201911/29/201911291708549542428410.jpg](https://piccdn3.umiwi.com/img/201911/29/201911291708549542428410.jpg)

---
