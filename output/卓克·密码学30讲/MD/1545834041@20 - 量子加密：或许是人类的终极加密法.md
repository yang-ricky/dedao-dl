# 20 | 量子加密：或许是人类的终极加密法

你好，欢迎来到我的密码学课，我是卓克。

上节课讲了量子计算机的原理，这节课我们来讲第七代加密法—— **量子加密** 。

## 1

和其他加密法最大的不同是，其他加密法的原理只使用了数学，而它不但使用了数学，还使用了物理中的量子理论。

也许正是因为背后有两大靠山，所以 **它是目前为止最强的加密法，就算是量子计算机也很可能无法破解。**

量子加密既然是数学和物理结合的产物，那么我们先说说数学原理的部分。

其实你不会陌生， **数学原理就是单次钥匙簿密码法。**

如果你还记得，这种加密法无法破解的前提是，要求钥匙完全随机，而这个要求又是几乎不可能在现实中应用的。因为本来真正的随机数就很难获取，退一万步说，就算有了真正的随机数列，传送钥匙的环节也没法保证完全安全。

最保险的方法只能是双方带着一堆保镖，当面交换钥匙簿，还得保证保镖里没有特工。

而量子加密的无法破解， **不仅是理论上无法破解，而且实施过程中还能抵御住绝大部分特工类型的破解。**

听着很完美，只不过设备制造的环节困难极大。

## 2

我们先来说，量子加密是怎样做保密通信的数学过程吧。

第一步：爱丽丝给鲍勃传送一串光子，其中每一位光信息都用0和1来标注。具体什么算0，什么算1，是有两套测量方法——甲套和乙套。 **这两种不同的测量方法，对同一个信号的测量结果是不同的。**

第二步：鲍勃收到光信息后开始测量，就测量每个光信息位到底是0还是1。不过鲍勃并不知道爱丽丝那边说的0或者1，到底是按甲方法测的还是乙方法测的。但没关系，鲍勃对每个光信号都随意选用一套方法来测出每个光信号到底是0还是1，就可以了。

所以鲍勃有的时候测出来的结果，肯定是跟爱丽丝发出来的约定相符的，可有的时候测出来的结果又是不符的。不过这都没关系，测完了再说。

第三步：毕竟鲍勃有一部分是测错的，所以这时候两个人必须打一个电话。这个电话完全不用保密，谁想窃听都可以。

 **爱丽丝和鲍勃在电话里都说什么呢？就是针对每个信号，到底使用了哪套测量方法。** 这通电话里就是按照顺位，依次说出测量的方法。第1个信号是用甲方法测的还是乙方法测的，第2个顺位用了甲还是乙，第3个顺位用了甲方法还是乙方法……所有这些测量方法，由爱丽丝告诉鲍勃。

第四步：鲍勃听完爱丽丝的这通电话之后，就对照刚刚自己瞎蒙着测的结果，也要回复爱丽丝。回复的具体内容就是，自己哪几位的测量方法蒙对了。

对鲍勃来说，自己之前测错的那些不管，把测对的那几位挑出来，这串数字就可以作为他的钥匙。

对爱丽丝来说，因为鲍勃告诉了她哪几位他选对了测量方法，所以爱丽丝也可以把鲍勃选对的那串数字也挑出来。

 **这个时候两人挑出来的那串数字是完全相等的，而因为完全相等，所以就可以作为两人的钥匙了。** 它既是鲍勃的钥匙，也是爱丽丝的钥匙。

整个过程中，钥匙并没有在额外的步骤中单独传输。他们在电话里说一说，自己分别回去数一数，就能得到同样的钥匙。

之所以钥匙一样，也是数学原理上保证的，咱们不用纠结于数学原理的细节。

既然没有单独的钥匙传送环节，所以特工就很难下手。

另外，因为鲍勃和爱丽丝都是随机瞎蒙着选用甲套或乙套这两种测量方式的，所以两个人恰巧都用了同一种方法的序列挑出来的东西，也是随机序列，也就是说钥匙是完全随机的。

到这里， **钥匙既不用额外的传输，而且本身又是完全随机的，这下就满足了单次钥匙簿加密法，并且改进了传送钥匙的薄弱环节。** 所以，实际操作时可行性就高了很多。

就算中间有伊芙窃听了他们的那通电话，伊芙也没法判断到底哪几位应该挑出来当钥匙，因为她不知道鲍勃那边针对每个光子位测量的结果是什么。

## 3

现在，还有一种窃听途径——比如说伊芙知道窃听电话没用，那就干脆直接窃听光缆上的信息。这样怎么办呢？

这也不用担心。

首先，光缆上的信息本来就是单次钥匙簿加密的，就算在使用过程中不遵守随机的原则，暴露了一些特征，也不用担心。 **因为在量子通信中，还会增加一个确认环节，来判断光路上有没有人窃听。**

这是怎么实现的呢？其实就是我们前面说的物理特性。

因为人对光的测量会改变光原有的量子态，伊芙窃听光缆，其实就相当于在双缝干涉实验时，在两道缝前又添加了两个探测器，这时候幕布上明暗条纹就会不见了。

也就是说，爱丽丝和鲍勃只要发现幕布上的图案变了，就知道有人在窃听了。只要发现有人窃听，他们就切换到其他线路上，那条被窃听的线路就废掉了。这是量子加密又一个新功能。

在真实的应用下，伊芙窃听会导致鲍勃收到的信息有错误。但怎么知道有错呢？

其实他跟爱丽丝打个电话，核对一下解码出来的原文就可以了。

那你说，核对原文那不就整个都泄密了吗？不怕的。

 **只需要随机从鲍勃收到的消息中，挑选几个字母核对一下是否一致就可以了。只要有一个不对，就说明这条光缆上有特工窃听。**

核对的量大概占原文的多少呢？有这么一个数字可以参考。

假如从1075个字符里随意挑出75个，如果这75个都是一样的话，基本就能保证这条信息是安全的。

为什么说基本呢？

因为还存在很小很小的概率是它被窃听了。但因为这75个双方都是一致的，所以窃听的概率就大概小于一万亿分之一，所以还是非常可信的。

## 4

 **第一次真实的量子加密系统，是1988年在IBM的实验室做出来的。**

它的甲套乙套测量方法，是使用光的偏振方向来呈现量子态。用上下偏振代表甲套测量方法，用左右偏振代表乙种测量方法。当时两台计算机只相隔30cm，通信成功了。

理论和实践同时胜利，之后的改进主要就体现在两台计算机的通信距离上。

1995年，日内瓦大学可以做到相聚23公里完成量子加密通信。

2012年的时候，咱们国家潘建伟团队把这个数字推进到了一百公里这个级别。现在这个团队正在尝试用空间轨道上的卫星和地面接收站间，实现量子加密信息的传输，距离就已经摸到千公里的级别。

 **只不过实验中符合条件的光量子态数量实在太少，只有几个到十几个数位，远远不能承载信息的正文，所以到目前为止，量子加密只适合给钥匙加密。**

## 5

如果你要问，量子加密是不是已经在实际使用了？

很有可能是。据说白宫和五角大楼已经安装了量子通信系统，并且已经投入使用。如果美国可以这样做，世界其他发达国家，包括中国的那些机要部门，很可能也已经部署了量子加密。

但是在加密解密的技术细节讲解上，我们不得不以量子加密的原理，作为这个模块的结尾了。

因为密码学这个学科天生和其他学科不同——

我们能从公开渠道获取的相关信息，一定是这个行业最顶尖的人允许我们看到的。很多技术细节，很多故事今天都还在保密机构中锁着，需要等上30年后《保密法》约定的期限过了，才能公之于众。

所以，就在我们谈论量子加密和量子计算机时，说不定已经有很多新进展，有很多坚固的密码已经被破解，很多国家的情报机构正在偷着乐，也有很多做出突出贡献的人却注定要被埋没。

这一切都需要时间和机遇，让他们今后出现在密码学的历史舞台上。

## 6

如果你要问量子加密的不可破解，是不是在重复上千年来那些加密解密的故事呢？会不会几百年之后，技术发展到我们现代人无法理解的地步的时候，量子加密也会被破解呢？

 **我的答案是——大概率说破解不了。** 这一天，可能永远也等不到。

 **因为如果量子加密能被破解，就说明在量子理论中，出现了一种对量子态测量后还不改变量子态的方法，而这是违反量子力学基本原理的。**

量子力学是物理学的基础理论，虽说只要是理论，就一定有被证伪的那一天，但这种证伪更可能是一种改进。

就像我们先知道地球是个球体，然后才知道赤道方向的直径比南北极方向的直径多了120多公里，也就是说它不是完美的圆球，而是一个椭球体，只不过椭得实在太微弱了，肉眼都看不出来。就是这样一种程度的证伪，而不是某一天突然发现地球是正四面体的那种程度的证伪。

这种黑白颠倒的证伪，在量子力学基础理论上是永远不可能发生的。

量子力学的基本理论，是从1905年到今天，被无数实验拷打、锤炼活下来的。 **如果量子加密可以破解，就说明目前所有量子力学结论都是错的。**

这种错的剧烈程度，就好像突然某一天发现地球是正四面体那样。如果真的是这样，整个物理学都得重写。

我相信这一天永远不会到来。

好，这节课就到这里吧。

所有烧脑的部分暂时告一段落，从下一节课开始，我们就要进入《密码学人物列传》的模块了。

![https://piccdn3.umiwi.com/img/201812/26/201812262224005247494689.jpg](https://piccdn3.umiwi.com/img/201812/26/201812262224005247494689.jpg)

---
