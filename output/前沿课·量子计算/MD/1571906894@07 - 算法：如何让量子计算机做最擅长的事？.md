# 07 | 算法：如何让量子计算机做最擅长的事？

欢迎来到《量子计算》课，我是李铁夫。

在上一讲，我为你介绍了怎样去评估一个量子计算机的好坏。也讲到了，其中最核心的指标就是量子比特的数量。

如果你平时关注新闻的话，就会发现IBM、谷歌这样的公司，以及很多实验室都在说自己制造出更多比特数量的量子计算机。而且还会发现，从只有2、3个比特数量，到现在的20个，50个，发展的速度非常快。

那是不是说量子计算的时代马上就要来临了呢？现在我就可以给你一个明确的答案。先不说硬件研发的难度啊，其实，即便是已经有了可以实用的量子计算机，也很难马上就带来颠覆性的改变。

计算机硬件只能算是一把可以屠龙的宝刀，就算是宝刀在手，如果没有一套可以配合的屠龙刀法，仍然没有用。这个屠龙刀法就是算法。这一讲我就为你介绍一下算法和量子计算的关系。

## 一、算力=物理系统+算法

用一个简单的公式来概括的话，这个关系就是：算力=物理系统+算法。而且对量子计算来说，研发算法的难度丝毫不亚于开发一个量子计算机硬件。

刚听到这句话，你可能会在脑子里面产生疑问，难道新闻报道里说的，只要量子计算机做出来，我们的密码系统就不安全了，秒秒钟就会被破解，这些说法都是在夸大吗？

在破解密码这件事上还真的不是夸张。早在1994年的时候，就已经有人找到了可以破解密码的量子算法了。因为最先提出的是数学家彼得·肖尔（Peter Shor）所以这个算法也叫做肖尔算法。

这个算法在数学上严格证明了，用量子计算机破解密码的速度是能达到指数级别的提高。当然我这里说的主要还是去破解用RSA协议进行加密的信息。RSA协议可以说是现在应用最广泛，最安全的加密算法之一了。如果你对RSA协议到底是什么感兴趣的话，可以去听一下卓克老师的《密码学30讲》。

肖尔算法在破解RSA协议时表现得特别优秀。而且，从1994年到现在，除了肖尔算法之外，虽然也有一些其他量子算法出现，但是再也没有第二个算法可以表现的像它一样优秀了。

就比如说，计算机科学家格罗弗（Lov Grover）就提出了一个在无序的数据库中进行搜索的量子算法。无序的数据库中进行搜索，就相当于你怎么能在一个万人的演唱会现场找到和自己生日相同的人，你想难度有多大。

格罗弗算法虽然也不错，也能带来搜索速度的提升，但是它带来的提升只能达到平方根的程度。这个提升就比指数级加速差很多了。形象点说呢，原来需要10000年的运算，如果是平方根级的加速，那么只需要155小时就可以完成，如果是指数加速的话那就只需要38秒。

这里多补充一点啊，从无序数据中找到数据，这个算法是非常消耗算力的，这一点其实就是比特币挖矿的基础。如果有某个算法能够快速地从无序的数据中找到需要的数据，那么比特币的基础就瓦解了。格罗弗算法虽然可以加速这过程，但是并不能带来指数级提升，所以即便是量子计算机现在已经开始实用了，比特币挖矿的基础也并不会被破坏。

## 二、量子算法需要充分发挥量子计算机的并行性

好，我们继续讲回量子算法。

前面介绍了肖尔算法和格罗弗算法，那么问题就来了，既然大家都是量子算法，都利用到了量子计算的特性，为什么有的可以达到指数级提升，有的却不行呢？

那是因为算法必须能够和物理系统匹配才行。如果匹配的程度不高，那么就无法把物理系统的所有能力都发挥出来。

什么意思呢？我们先回忆一下之前的内容。量子计算的物理系统是什么？它是具有量子特性的物理系统，也就是说用这个物理系统构建起来的比特是会具有量子特性的。我们前面讲了，不论是量子叠加性、量子纠缠还是叠加状态的并行演化，量子计算能够比经典计算运算更快，归根到底都是它为并行处理信息提供了又快又好的解决方案。

所以，一个量子算法要想真的发挥出比经典算法更强的性能，那么它一定要充分利用量子物理系统的优势才行，也就是要并行处理信息。如果一个算法没能发挥这个优势，那么即便把这个算法强行运行在量子计算机上，它也不会带来运算速度的大幅提升。

我还是用破解密码来帮你理解。

我们现在的密码系统之所以安全，是因为它用到了一个特性，那就是大数分解的不对等性。什么意思呢？举个例子，我告诉你一个数527，你能马上想出来这是哪两个质数相乘吗？注意，必须是质数才行，就是那些只能被1和自己整除的数。

当然，你不用真的去算，我只是想告诉你分解这个数非常难。但是如果我告诉你，17乘以31，你是不是简单一算就能算出来这是527。从527推出17乘以31很难，反过来却很容易，这就是不对等性。想要破解你的密码，就相当于知道了一个数，要猜出来它等于哪两个质数相乘。

我这里只是简单地说了个3位数，实际上我们每天都在使用的RSA加密，这个数字达到了1204位，用现在最好的计算机和算法，需要大概1年才能破解。而且这个数值即将升级，变成2048位的大数，这样的话破解就需要10亿年了。

当然了，我说的这些时间都是对于经典计算机而言。如果用量子计算机呢？是不是势如破竹，轻轻松松就能搞定呢？也没有这么简单。

为什么这么说呢？我可以用一个简单例子来帮你理解，虽然可能不严谨，但是应该可以让你明白为什么不是轻轻松松就能搞定。

接下来你就需要认真听了。

我们前面讲到量子比特演化的时候，你应该注意到了吧，量子计算提高运算速度，主要是通过增加了并行性做到的。但是，并不是所有的问题都可以被并行解决的。

比如说，你要计算“1000+10+10+10”等于多少，你就可以把这个问题拆分成两个小问题，分别是前面两个数相加1000+10，和后面两个数相加10+10。这两个小问题是可以同时计算的，这样就可以节省时间。这是4个数，要是40000个数相加，也是这样拆分和并行计算的话，那是会大大提升计算速度的。

但是并不是所有问题都可以这样。比如，1000÷10÷10÷10，最后答案等于1。这个问题就不能简单地拆分成两个小问题，先计算“1000÷10”、“10÷10”，然后再合并。这样的计算结果是100，肯定不对。所以对于连续除法，就不能并行了，只能老老实实地一个一个地计算。

回到前面破解密码的问题，如果老老实实去分解2048位大数，不严谨地说就相当于做除法，没有办法发挥出量子计算的优势。

那为什么肖尔算法可以这么有效呢？那是因为肖尔算法并不是去直接去做分解2，而是利用了数学规律。通过数学规律可以把分解大数问题转化成了另外一个等价的问题。而且这个等价的问题，它的核心环节可以充分利用量子计算机的并行计算优势。正是因为这样，这个破解密码的问题才能被量子计算机轻松解决掉。

多补充一下，其实刚才讲到的除法运算，如果经过数学处理的话也是可以并行解决的。我前面举例只是帮助你理解，并不是所有的问题都能简单地找到并行处理的方法。这就是开发量子算法困难的地方。

## 三、经典计算机和量子计算机搭配使用会更有效

现在你再回头看我前面提到的“算力=物理系统+算法”，这里可不仅仅是指好的物理系统加上好的算法就一定有好的算力，只有当算法与物理系统匹配时才能发挥出最大的算力。

而且现在科学家们也普遍认为，并不是所有问题在未来都要用量子计算机来解决，有些问题用经典计算机和经典算法已经能处理得非常好了，那就没有必要再多花心思去开发它们的量子算法了。

所以未来等到量子计算机真的开始实用后，很可能的景象是，经典计算机和量子计算机搭配使用，各自解决自己擅长的问题。

当然了，你现在可能心中会些怀疑。从肖尔算法的提出到现在已经过去二十多年了，仍然是只有孤零零的这么几个量子算法，我们是哪里来的信心未来一定会有更多量子算法被创造出来呢？

这件事情我觉得你不需要特别担心。我可以讲一件事，在经典计算机里，有一个现在公认最快的排序算法。排序算法就是把没有顺序的数字，按照从小到大或是从大到小的顺序排列起来。这个公认的最快是算法叫做快速排序算法。它是在第一台电子计算机被发明后的十几年之后才被发现的。

像肖尔一样，在还没有量子计算机的时候就提出了可行的量子算法只是偶然现象。等到量子计算机真正实现之后，科学家可以真正地将算法运行在量子计算机上时，一定会迎来一次量子算法的大爆发的。

## 划重点

这一讲我主要是为你介绍量子算法对于量子计算的重要性。只有当一个算法充分地将量子物理系统的特点，也就是并行处理信息的能力发挥出来时，这个算法才能把量子计算机的优势完全发挥出来。

最后给你留一个思考题，在平时的生活工作中也经常会用并行处理的方式来解决问题，比如将一个任务拆分成更小的任务，然后交给更多人一起做。那你在用并行的方法解决问题的时候，有什么成功或者失败的经验吗？欢迎留言与大家分享。

![https://piccdn3.umiwi.com/img/201910/27/201910270018236065178961.jpg](https://piccdn3.umiwi.com/img/201910/27/201910270018236065178961.jpg)

---
