# 第077封信 | 什么是计算机的数据结构？

我们这周还会通过Google和高盛的面试题来介绍计算机科学的原理及其思维方式，不过我们需要先介绍点计算机的专业知识做铺垫。这周要用到的专业知识是 **计算机的数据结构，** 它对于专业的计算机人士来讲至关重要，数据结构没有学好，程序写得再快，也是业余水平。类似的做事方式可以推广到其他领域，掌握了它，就迈出了成为高级专业人士的第一步。

在介绍什么是数据结构之前，先讲两个绘画和摄影的例子。

我不知道你是否爱画画，或者曾经画过画，或者看过专业画家创作的过程。一般人画画通常就直接画了，比如要画水里的两条金鱼就直接从某一个部分开始，从外形画起来了。这种画法的结果经常是，画到后来比例不对，而且常常画得不像。

专业画家不是这么画的，他们会把金鱼分解成几个简单的几何图形，比如头是一个大圆和两个小圆（即两个眼睛），身子是一个椭圆，鳍和尾巴是几个三角形。如果是几条金鱼，他会先把位置安排好，为了画面美观，主要景物的布置可能要符合一些几何图形的形状，这一点我等会还会举例子。这些都用淡淡的铅笔或者淡墨勾好了，才把圆、椭圆和三角形经过平滑过渡，画成金鱼。不掌握这种绘画方法，永远走不进专业的大门。

在绘画和摄影中，这些基本的几何图形使用的远比一般人想象的多得多，特别是在构图上，只不过当最终的作品完成时，你看不太出来最早的构图框架而已。在欣赏艺术品的时候，专业人士和一般人也是有区别的。前者很快能看出作品构图的方法，各个部分之间的几何关系，他们在学习时会琢磨先前那些大师们匠心独运之处。而普通人看画则看不出来，也很少在意，他们会更关注一幅画画得像不像，颜色是否抢眼球。这也是很多人会觉得某幅画或者艺术作品创作得特别好，但说不出理由的原因。

接下来我们看看两个具体的例子。下面这张画是浪漫主义的开山鼻祖 籍里柯的代表作《梅杜莎之筏》（The Raft of the Medusa 又译为：梅杜萨之筏）。

![https://piccdn3.umiwi.com/img/201804/08/201804081558041969757922.jpg](https://piccdn3.umiwi.com/img/201804/08/201804081558041969757922.jpg)

关于这幅画为什么重要，这里由于篇幅的关系我不介绍了，我放到周六的加餐专门介绍它。这里我是要向你介绍它的构图，它最高层的构图设计就是两个金字塔形状，下图就是靠着两个三角形的金字塔，画面保持了平衡。

![https://piccdn3.umiwi.com/img/201804/08/201804081600404990203819.jpg](https://piccdn3.umiwi.com/img/201804/08/201804081600404990203819.jpg)

类似地，在米开朗基罗代表作之一的雕塑《圣母怜子》中（见下图），他把圣母塑造成悲天悯人的少女形象，但是为了体现神圣庄重，他也采用了金字塔造型。

当然，大艺术家采用各种基本几何结构构图未必需要打稿时画在图上，而是了然于胸。对于几何形状不了解，不能从现实中的事物抽象出简单的几何形状（骨架）的人，完成不了复杂的绘画，即使画简单的东西，也画不好。也就是说，不入门。

![https://piccdn3.umiwi.com/img/201804/08/201804081602263200981098.jpg](https://piccdn3.umiwi.com/img/201804/08/201804081602263200981098.jpg)

对于计算机科学来讲，写一个能够完成特定功能的程序，就相当于是作一幅画。因此，它也有两种方法，一种是直接就用一行行代码去实现功能，这是低水平的做法，有些时候看上去做得快，实际上漏洞百出（用专业术语讲就是Bug很多），回头需要修补。另一种就是理解需求之后，抽象出具体的基本几何形状这样的基础块，然后用算法将这些模块进行组合，写出符合需求的程序。

当然，这些基本模块也像绘画和雕塑中作为轮廓的几何图形一样，需要根据画面需求平滑过渡，而不是照搬照抄。这些程序中基本的几何图形，就是 **计算机的数据结构** 。如果说一幅画是点的有机组合，几何图形反映出点之间常用具体的关系，那么在计算机科学中， **数据就等同于点，数据结构就是数据中常用的具体关系。** 这样你就理解了什么是数据结构。

世界著名计算机科学家、因为发明帕斯卡程序语言（PASCAL）而获得图灵奖的N∙沃斯(N.Wirth)教授写过一本书，叫做《数据结构＋算法＝程序》，很好地讲清楚了这三者的关系。

在这一周，我们要介绍两种最常用的数据结构，这样大家会有些具体的感受。

 **第一种数据结构是线性表。** 这相当于几何图形中的直线，它也是最基本的数据结构。

线性表这种抽象的数据结构并非起源于科学计算本身，而是计算机早期的应用——办公自动化。我们知道，虽然发明计算机的目的是为了科学计算，但是它最早期的商业应用则是在管理和商业方面。

在商业上，报表是一种最常见的数据组织形式，而在管理上，最多见的则是人员或者物资的记录等等。它们都可以被抽象为线性的数据，然后按照1、2、3、4、5的顺序排列出来。

比如一所大学所有学生的档案，就是这样一个个按照顺序排列的，而他们的编号就是学号。因此，很有必要设计一种抽象的数据结构概括所有这些顺序排列和储存的数据，它就是线性表。当然，随着计算机数据规模的扩张，未必能够给所有的数据都赋予一个编号顺序，结构化地存储，但是它们依然遵循一个顺序的特征。比如一个电商交易的日志记录，它是按照所发生的时间顺序，一条条线性地记录下来，因此，线性表的性质它们也有。

线性表本身是一个抽象的概念，在计算机中则是通过很多种具体的方法实现的。最常见的一种实现方法就是所谓的数组，学习计算机的读者朋友对此都非常熟悉。

 *数组这个概念很简单，就是一组编了号的固定大小的单元。* 比如我们说一个具有1000个整数的数列，从a0，a1，a2，……，一直到a999。这就是数组。数组的好处是给定一个序号，可以直接找出里面的内容。比如，一个数组存着一个单位员工的信息，只要给出员工的工号，就能调出他的信息并且编辑修改。

但是， **数组这种数据结构有一个大的缺陷，就是在其中插入一个新的数据非常困难。** 比如客户经理用一个数组来存放这周要去拜访的所有客户，如果他突然有一个未在计划中的客户必须要拜访，他打算把这个人插入到原来第五个客户和第六个客户之间。那么要在数组中塞进去这个新的客户其实并不容易，因为他需要把第六个客户从数组中的第六个位置挪到第七个，留出位置给这个新的客户。当然，也就需要把第七个挪到第八个的位置，第八个挪到第九个的位置，以此类推。如果一个数组有上百万个记录，这么挪实在是太浪费时间了。

为了弥补这个不足，科学家们发明了一种被称为 **链表的线性数据结构。** 所谓链表，其实就如同我们买东西时排队一样，每个人只要记得前面或者后面的一个人是谁就可以了，彼此没有编号一说。

比如要记录下这周造访的客户名单，王二之后是张三，张三之后是李四，李四之后是赵六……如果要把新加入的王五安排在李四和赵六之间，很简单，只要修改一下这个链表，把李四后面的指针指向王五，把王五后面的指针指向赵六即可。这样一来，插入一个新的数据就是一件很容易的事了。

但是，凡事有一利就有一弊，如果我们要找出列表中第五个造访的客户是谁，因为没有编号一说，因此必须要从头数一遍，一直数到第五个。如果一个列表有几百万个记录单元，数一遍可是很花时间的事情。

那么对线性的数据，是否有更好一点，能够兼有前面的优点，而没有其缺点的数据结构呢？到目前来讲还没有，而且估计以后也不会有，因为世界上凡事都不是十全十美的。对于这样简单、有用却不完美的数据结构，应该怎样弥补它的不足呢？这就是搞算法的人的工作了。

为了便于大家理解线性表，我再做一个类比：

 数组相当于盖房子的砖头，一块块整整齐齐地码着。链表则相当于一个没有页号的活页夹笔记本，拿走一页纸，加入一页纸都很容易。它们都是搭建计算机科学这个大厦的基本几何形状。

最后总结一下今天的内容：

1. 专业人士和业余人士做东西的一个重要差别在于， *前者掌握了如何使用基本图形、结构和组成部分来构建复杂设计和产品的方法，* 后者根据自己脑子里的构思和直觉，直接构建最终的产品和设计。要想完成复杂的工作，必须掌握所谓科班出身人士掌握的工具和方法。另外，专业人士会把复杂的东西分解为简单的基本单元。

2. 在计算机领域， *数据结构则相当于设计中的基本几何图形，它们大多是从具体的应用中抽象出来的，* 一个从业者水平的高下，首先在于灵活使用这些数据结构的本领。

 *3. 凡事有一利就有一弊，* 在计算机方面几乎任何设计都是如此，好的工程师并不是不切实际地追求没有弊病的设计，而是想其它办法补救相应的问题。

明天我会介绍计算机科学中另一个重要的数据结构——二叉树，有了这个概念，我们就可以讲解几道面试题了。为了方便你预习，我今天提前把两个面试题和一道思考题，留给大家。

 **思考题：** 从专业艺术家创作的方法出发，谈谈你所了解的专业人士在做事时和业余人士有什么不同？

 **1.高盛面试题：** 有二十五名短跑选手比赛竞争金银铜牌，赛场上有五条赛道，因此一次可以有五个人同时比赛。比赛并不计时，只看相应的名次。假如选手的发挥是稳定的，也就是说如果约翰比张三跑得快，张三比凯利跑得快，那么约翰一定比凯利跑得快。最少需要几组比赛才能决出前三名？

 **2.Google面试题：** 如何设计一个地图的功能，找到离当前位置最近的5个加油站？

![https://piccdn3.umiwi.com/img/201804/08/201804081603168795764981.png](https://piccdn3.umiwi.com/img/201804/08/201804081603168795764981.png)

## 划重点

专业人士和业余人士做东西的一个重要差别在于，前者掌握了如何使用基本图形、结构和组成部分来构建复杂设计和产品的方法，后者根据自己脑子里的构思和直觉，直接构建最终的产品和设计。

## 本周思考

本周计算机的数据结构可能稍难理解，需要时间和梳理来消化。本周的回信主题就稍简单一些，希望你可以总结一下 **本周计算机的数据结构的内容** ，并且梳理一下自己得到了哪些启发。本周日会精选读者的回信刊登在专栏中，希望你可以和大家分享你的学习心得。

本周回信被选中的读者，会获得50元学习鼓励金。（根据回信内容决定有几位读者入选。）

回信方式：

1、通过邮件，把你的回信发到我在得到的邮箱：wujun@luojilab.com，文稿直接贴在邮件正文里就好，不需要单独加一个附件，邮件标题 *#计算机的数据结构总结#；*

2、直接在留言区回信，标注 *#计算机的数据结构总结#。*

期待你的来信！

![https://piccdn3.umiwi.com/img/201804/09/201804090039220477159359.jpg](https://piccdn3.umiwi.com/img/201804/09/201804090039220477159359.jpg)

---
