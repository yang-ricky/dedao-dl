# 答读者问19 | Google的服务器集群和Space X的火箭集群有哪些不同？

> 本周思考题
> 
> Google用“一堆胶带纸粘起来”的服务器集群，和SpaceX绑在一起的火箭集群有相似之处，能否就这种方法谈谈你的看法？

> 吴军

这个问题其实是我留给大家的，看了大家在专栏里的留言，95%甚至更多的读者都是觉得Google用“一堆胶带纸粘起来”的服务器集群，和SpaceX绑在一起的火箭集群是等同的，而且对Space X的做法非常赞同，认为它找到了一个又快又便宜的方法。从高层面上和思维方式的提升上讲，确实如此，但是从技术层面上讲，两者还真不能等价。

也就是说，Google可以用“胶带纸粘起来的服务器”取代太阳公司的大型服务器，但是Space X用27个小发动机搞出的重型“猎鹰”，目前不仅和当年的“土星五号”相去甚远，而且这种捆绑方式要想真正工作，还需要走非常长的路。

我先讲点技术细节，你就明白为什么Google的服务器集群可以工作。 **首先，Google的服务器之所以便宜，是因为省了三样设备，而不是偷工减料，而且它的性能并不低：**

1. 抗震和密封的机箱，因为Google的服务器永远是固定在机柜上的，不需要搬运，也不会卖给其它公司，因此它只要做成能承重的刀片（即很薄的服务器）插到机架上即可。

2. 电源。一般计算机都要有一个功率足够大的电源，比如100瓦的计算机要配一个300-600瓦的电源，这其实是浪费，Google差不多是四台服务器（四个刀片）配一个电源。此外，使用太阳公司的服务器，需要先把工业电输送到机房的不间断电源（UPS）上，这中间经过了两次直流交流的相互转换，然后再从UPS到服务器的电源，最后提供给服务器的各部分使用，这中间又经过了一次交流直流的转换，一共转换了三次。而Google服务器因为是做死在数据中心中的，因此UPS和服务器电源合二为一，用电只经过一次交流直流转换。这大约本身就能省10%的用电。在数据中心，电费比计算机的费用要高。

3. 太阳公司的服务器是通用的，不是每个功能用户都用得上，因此用户其实支付了一些不必要的费用。Google的服务器是专用的，去掉了不需要的功能，因此每一块钱都用在了它自己的业务上。后来，由于Google建造服务器的数量很大，芯片公司是专门为它制造芯片。

 **此外，Google服务器便宜还有一个很重要的原因，是因为它使用了开源的Linux操作系统。** 太阳公司的Solaris操作系统开发和维护成本很高，因此非常贵，即使后来它免费提供给用户，这部分研发成本并不因为免费就能省去，实际上转嫁到了服务器成本上。

概括来讲，Google的服务器其实不是3M胶带纸粘起来的，没有那么脆弱，麦克尼利的说法有点夸张。

当然，单台Google的服务器可靠性远不能和太阳公司的相比，因此对于数据存储这样的任务，Google要用三倍的服务器。不过，即使如此，价格也比太阳公司的便宜。

 **Google开始的时候敢于用可靠性较低的服务器的另一个重要原因，在于它最初并不为用户提供存储和计算服务，服务器都是自己内部用。** 如果计算到一半死机了，那就再从死机的断点重新启动计算。甚至如果一开始有些中间数据丢失了，那就再产生一遍。这时它的可靠性不像银行那样重要。2004年当Google开始提供Gmail服务，为了确保用户的数据不丢失，它采用了3x3九台服务器存一组数据，这个成本就不低了。同时期，雅虎等公司采用两台高可靠性的服务器存储邮件。这时期，Google的Gmail是非常赔钱的。后来Google的云存储部门用软件实现了5台服务器分布式存储，达到过去九台服务器的可靠性，Gmail的成本才降下来。

Google想方设法用廉价服务器集群取代超级计算机的过程远比很多人想象的复杂。这种想法其实早在Google之前就有了，但是其它公司就是因为无法解决其中的很多技术细节问题，使得采用大量低可靠性的服务器带来的好处还没有它带来的麻烦多，最终都放弃了。而Google只不过是把事情做到极致，克服了各种技术困难，最后做成了。在Google之后，亚马逊等公司也实现了廉价服务器集群取代超级计算机的功能。

讲回到Space X采用27台廉价、低性能的发动机搭建超级火箭。可以讲这个思路很新颖，但是这件事和搭建计算机集群还不太一样。对此我和一些在NASA工作过的朋友，以及航天部的一些朋友谈过，他们认为Space X目前的做法不是很可行，具体的原因我会在几周后介绍航天时专门讲，这里就概括一下那些专家们的看法：

1. Space X使用的“梅林1D”廉价火箭技术以及性能和当今美、俄、中的火箭相差太大，特别是推力和室压（燃烧室压力）差距太大，因此很多低性能的火箭绑在一起，大部分推力都用于发射自身的重量了，而不是负载。

2. 和计算机集群不同的是，火箭的可靠性很重要。虽然说27个火箭坏掉两个依然能发射，但是它们就从动力来源变成了阻力来源，要实现远距离飞行，特别是今后变轨都是很大的负担。计算机集群则没有这个问题，坏一两台服务器最多不工作，不会成为负担。

3. 很多发动机绑在一起振动的情况非常复杂，有时自己就散架或者爆炸了。就连马斯克自己都讲，只要重型“猎鹰”不爆炸，就是成功。

至于更多的分析，大家可以在几周后关注我的专栏。不过从这个例子中可以看出，不能简单地复制前人的成功经验，很多时候条件不同，场景不同，必须做相应的变通。

> 本周思考题
> 
> 能否就“一通百通”谈谈你的看法？

> 吴军

“一通百通”的关键在于首先要一通。 **所谓一通，就是指真正了解了本质。** 很多人一通还没有通，就想着百通是不够的。

第二，就是我们之前多次强调的 **通才教育** ，一个知识面很窄的人是很难做到一通百通的。

> 读者@Y. Fang
> 
> 我们确实认可“头顶青天、脚踏实地”这样的做事态度和方法，然而也不难发现眼高手低的人比比皆是。是哪些因素导致了这样的局面呢？或者说我们应该如何避免这种情况？

> 吴军

人类做事的态度就是这么分布的，真正能脚踏实地的是少数，有些事能够脚踏实地做好的人数要多一些，但是比例也不是很高，做事眼高手低的是大多数。这其实是一件好事，因为在竞争的道路上一点也不拥挤。

至于如何避免自己也成为眼高手低的人，我觉得注意好两点就能有所改观。

 **第一，看看自己做事是否做到了有始有终，** 我总是讲不在于开始多少事情，而在于完成多少。眼高手低的人常常凡事停留在口头上，永远不会开始做。稍微好一点的会开始做，但是不能坚持做完。

 **第二，看看自己每做一件事，是否做到了比上一件事做得好。** 如果没有做到，说明自己有可以改进的空间。如果做到了，则说明自己的能力在提升，能做的事情越来越大。

> 读者@macy
> 
> 奥科证明了当数据量成千上万倍增加以后，就会由量变形成质变。那么是不是说大数据时代谁掌握了数据谁称王？后起之秀的创业公司，在数据方面是不是没有可能赶超大公司？

> 吴军

今天，数据当然很重要，市值前5的公司（苹果、Google、亚马逊、微软和腾讯），都是拥有大量数据的公司。作为后起之秀的创业公司，一开始在数据上肯定无法赶超大公司，这个目标本身制定得就有问题，这就如同上来就问一个新生儿能否超过举重世界冠军一样。

此外， **对于大公司，我们不能总是在谈颠覆它们，更多地要谈合作，谈互补。**

> 读者@若希
> 
> 听了这几天的大人物介绍，感受到他们真的是天才。同时，数学能力是一种非常重要的能力。那么我想问，天才产生的概率是差不多的，为什么中国没有产生出这样改变世界的天才，是和我们的教育体制有关系吗？我们作为家长，应该如何给自己的孩子开始做数学启蒙？

> 吴军

见到天才，才知道自己的不足，知道自己该努力，有了点成绩不能沾沾自喜。大部分人生下来就注定不可能成为天才，因此千万不要把孩子当作天才培养。

实际上大部分人一辈子未必能接近他们智力的极限，也就是说，智力不是限制他们的原因。冯·诺依曼和高德纳是上百年和几十年出一个的天才，他们是常人不能及的。迪恩和奥科则是常人通过努力能及的。 **培养孩子的数学兴趣，可以从动脑筋的智力题开始训练。** 但是，最好家长也参与，并且不断启发孩子的解题思路。

![https://piccdn3.umiwi.com/img/201804/07/201804070051330141045759.jpg](https://piccdn3.umiwi.com/img/201804/07/201804070051330141045759.jpg)

---
