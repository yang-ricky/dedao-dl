# 第078封信 | 从二叉树数据结构到对具体问题共性的抽象化

今天我们从计算机的二叉树数据结构讲起，然后谈谈如何从很多具体的事物或者现象中抽象出具有共性的概念，和提出解决一大堆问题的通用工具。

在讲述今天的内容之前，先请大家思考这样一个问题： **在我们真实的世界里，到底是具体的数值重要，还是数值之间相对的大小更重要，或者说相对的次序更重要？**

我想绝大多数人会这样说，“这得看具体情况了，比如体育比赛，成绩的相对值就比较重要，因为只要比其他选手得分高或者成绩好，就是冠军，至于你在百米比赛中是9.9秒还是10秒得到的冠军，或者足球比赛中是1:0夺冠，还是5:0大胜，其实关系都不大。但是，在另一些地方，比如钱财方面，拥有一个亿，100万还是1万差别就大多了”。

但是，如果必须让你在上述问题中做出二选一的回答，并且明确地告诉你，那种“既xxx，又xxx”的答案统统是零分，你会怎么办？如果你在面试中遇到这样的两难，我不妨告诉你一个技巧—— *任何选择都比没有选择要好！* 在生活中也是如此，我们通常无法脚踩两只船。

具体到上面这个问题， **在计算机科学中其实是有明确答案的，那就是相对的大小要比绝对的数量更重要。** 这一点，计算机科学和数、理、化都不相同。在数学上，数字是准确的。在物理中，水的冰点有一个确切的温度，水如果不到0度，是无法结冰的。但在计算机科学里并不是这样的。AlphaGo在和柯洁下棋时，讲解棋局的几位高手有时会觉得AlphaGo下得莫名其妙，因为明明有一步棋可以赢20目，它却要走一步稳妥的。原因其实很简单，计算机只看重相对的输赢。

世界上有什么样的问题，就有什么样的工具，或者说工具的发明是针对问题来的。在数学上要计算数字，人类就发明了算盘。在物理学上，要测量绝对的数值，人类就发明了各种度量长度的尺子、计时的钟、称重量的天平和秤等等。在化学上，要测量化学反应的当量，人类就发明了各种有刻度的量器。在计算机中，由于经常要做的事情是 **判断真假、比较大小、排序、挑选最大值这类的操作，** 而它们在计算机的世界里又如此重要，当然也就值得为这些事情专门设计一种数据结构，这种数据结构被称为 *二叉树。*

你可以看一眼下面二叉树的图示，有一个感性认识。

![https://piccdn3.umiwi.com/img/201804/09/201804091904227606348752.jpg](https://piccdn3.umiwi.com/img/201804/09/201804091904227606348752.jpg)

为了便于理解二叉树，我们可以将它和自然界的树木对应起来。

 **首先，它们都有一个根，** 二叉树的根就是图中顶上红色的那个点。当然，为了将来把二叉树一层层扩展，二叉树的根画在了最顶端，而不是下面，你把自然界的大树转180度就可以了。

 **其次，从根开始，它们都有分叉，** 只不过二叉树为了简单起见，只能有两个分叉，不能更多，这一点和自然界的树不同。每一个分叉也有一个自己的根结点，就是图中蓝色的那些点，你可以把它们想象成大树各级主干分叉前的部分。当然，你可能会问，如果遇到一个特殊的问题，需要三个分支怎么办？在数学上，两个分支和N个分支是等价的，或者说N个分支的情况可以通过两个分支来实现。因此，为了简单起见，也为了更好的通用性，我们只研究二叉树就可以了。

最后，我们知道 **一棵树的树杈还能再分叉，二叉树也是如此，** 任何一个枝杈都可以再分出两枝，这个过程可以无限持续下去。

我们在生活中，一些组织结构其实就是树状结构，比如一个公司的大老板是根结点，每一个部门的老板是主干的根，下面职能部门的总监是枝干的根，再下面小组的经理是更小枝子的根，最后基层员工是叶子节点。

接下来你可能会问，这种怪怪的数据结构在计算机科学中有什么用处呢？它的用途很多，比如说可以用于排序。

我们在前面的课程中介绍了一些排序的算法，无论是高效率的快速排序，还是最直观的冒泡排序，使用的都是昨天介绍的数组，或者说一个线性的列表。其实，二叉树可以直接完成排序，因为它有一个很好的性质，就是 **它左右两个分叉可以和比较大小后的两种结果自然对应起来。** 具体讲，用二叉树排序的过程只要遵循下面两条规则就可以了：

 **第一，先来的占据根部，以及靠近顶部层级比较高的位置，后来的放在相对靠下的位置。**

 **第二，每当一个分支的根部被占据之后，接下来的数字，是和根部的数字进行比较，小的放到左边分叉中，大的放到右边分叉中。**

这样安排得出来的二叉树，里面的数字从左到右自然是从小到大排好序的。

为了便于理解这个操作的原则，我们不妨打个比方。假如一个公司的组织架构是个二叉树，创始人最先来，因此占据了顶部位置，随后来的人是元老，直接汇报给创始人，因此放在了左右两个位置，你可以理解成他们是事业部的副总裁。当然，我们加了一条规定，如果新人的个儿头比创始人矮，他就站在左边，比他高，就站在右边。再接下来，新来的人一级级地往下放，最后加入公司的只好到下面去当叶子了。但是在这个过程中还遵循另一个原则，矮个子的到左边，高个子的到右边。最后，如果把这个公司的人从左往右扫一眼，个儿头正好越来越高。

这个方法的正确性我们就不证明了，我不妨给你看一个具体的例子，你就明白了。比如我们对（3、5、－2、0、6）这组数排序。

第一步，把第一个数3放到二叉树的顶端（根部）。

第二步，把第二个数5拿来，和树根部的那个数3做对比，由于5大于3，就放在右边的叉树中，由于它是右边叉树上的第一个数字，因此就占据了右边叉树根部的位置。

第三步， 把第三个数－2拿来，和根部的那个数3对比一下，这次－2比3小了，于是放在左边。同样，因为它是左边第一个数，因此占了左边叉树的根的位置。

第四步，把第四个数0拿来，和根部的3对比一下，因为它比3小，所以要放在左边的叉树中。但是，左边叉枝的根部已经被－2占据了，因此0需要放到以－2为根部的左边的叉树下一层的某个位置，至于放在这个叉树的左边还是右边，需要再和－2比较一次，来决定它的位置。由于0比－2大，因此放到了－2的右边。

第五步，把第五个，也就是最后一个数6拿来，先和根部的3比较一下，发现它比3大，因此放在右边的叉树中，但是右边的叉树根部已经被5占据，没有地方了，于是和右叉树的根结点5比较了一下，发现比5大，因此要放在右叉树的右边。

好了到此为止，所有的数字都放进了这棵二叉树中。你可以看一眼下面的这张图，它是插入了所有数字后的结果。

![https://piccdn3.umiwi.com/img/201804/09/201804091911177461158218.jpg](https://piccdn3.umiwi.com/img/201804/09/201804091911177461158218.jpg)

那么接下来呢？接下来你只要把二叉树中的数字从左到右取出来即可，从上面的过程我们可以看到，最左边的是－2，然后是0，中间根部是3，往右边是5和6。

这样一来，把一堆数字按照一定的规则放到二叉树中，再拿出来，它们就有序了，神奇吧？当然，在计算机中这些数据一进一出需要时间，这个时间和快速排序是同一个量级。

二叉树这种数据结构的用途远不止排序，我举了排序的例子，只是为了说明它有用而已。在现实的工程中，二叉树可以做很多事情，比如快速查找到某一个数值。

另外，由于网站的目录结构也是树状的（当然它们有N个分叉），因此，针对二叉树的各种算法，稍加改变，就可以用于互联网。比如，我们找到一个网站后，要下载一个网站里面所有的网页，就会用到二叉树中的一种遍历算法。

类似地，一个组织的管理结构也和二叉树类似。也就是说 *二叉树虽然是一种抽象的东西，在自然界中并不存在，但是它却浓缩了自然界很多事物的共性，那就是分叉、层层递进和有序。* 而针对这些共性，科学家们又总结出一些具有普遍性的算法，能够回过头来，应用到各种实际问题中。

在Google这样的公司面试时，不会考大家教科书上的那些基本内容，而会考如何利用那些工具（包括数据结构），解决一些实际问题。如果候选人能答得上来，说明那些书上的内容他已经掌握了。事实上，我们前面提到的如何找到周围最近的几个加油站，这个问题就可以用到二叉树的一些算法解决。

今天的内容有点抽象，不过这是这周，也是这门课到目前为止最难的内容了，如果你坚持听完了今天的内容，一定要恭喜你，因为你已经上了一些计算机系大二的课了。为了便于你进一步理解，我把今天的内容总结如下：

1. 世界上的工具常常是根据所遇到的问题而发明的， **有什么样的问题，就有什么样的工具。**

2. **在计算机科学中，数据的相对大小比绝对的数值重要** ，出于很多数据比大小的需求以及其他一些需求，就产生了一个抽象的数据结构——二叉树。

 **3. 和很多抽象的工具一样，二叉树其实能在现实生活中找到很多对应。** 除了比大小之外，我们的组织架构，我们的文件目录，网站的链接层次，以及我们明天要讲到的锦标赛，都能对应到二叉树中。

 **4. 所有能够对应到二叉树的问题，都有一些共性，解决它们之间问题的方法是可以触类旁通的。** 这就是我们要学习理论的目的，因为我们希望它能够在很多场合应用，而不只是用一次，记住第四条很重要。

有了今天的铺垫，明天我们就用二叉树这个工具，讲解高盛和Google的面试题。

最后邀请你思考：很多概念是现实生活中具体事物的抽象表述，比如正方形。能否再找出一些概念，讲讲它们是如何从现实生活中抽象出来的？

 练习题：如果你有兴趣，可以试试用二叉树对－3、4、－6、2、0、－100排序。

![https://piccdn3.umiwi.com/img/201804/09/201804091912278437534946.png](https://piccdn3.umiwi.com/img/201804/09/201804091912278437534946.png)

## 划重点

1.有什么样的问题，就有什么样的工具。

2.在计算机科学中，数据的相对大小比绝对的数值重要。

3.和很多抽象的工具一样，二叉树其实能在现实生活中找到很多对应。

4.所有能够对应到二叉树的问题，都有一些共性，解决它们之间问题的方法是可以触类旁通的。

## 本周思考

本周计算机的数据结构可能稍难理解，需要时间和梳理来消化。本周的回信主题就稍简单一些，希望你可以总结一下 **本周计算机的数据结构的内容** ，并且梳理一下自己得到了哪些启发。本周日会精选读者的回信刊登在专栏中，希望你可以和大家分享你的学习心得。

本周回信被选中的读者，会获得50元学习鼓励金。（根据回信内容决定有几位读者入选。）

回信方式：

1、通过邮件，把你的回信发到我在得到的邮箱：wujun@luojilab.com，文稿直接贴在邮件正文里就好，不需要单独加一个附件，邮件标题 *#计算机的数据结构总结#；*

2、直接在留言区回信，标注 *#计算机的数据结构总结#。*

期待你的来信！

![https://piccdn3.umiwi.com/img/201804/09/201804091913050358486861.jpg](https://piccdn3.umiwi.com/img/201804/09/201804091913050358486861.jpg)

---
