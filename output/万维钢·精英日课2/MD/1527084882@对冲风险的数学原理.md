# 对冲风险的数学原理

我们经常会说这么一句话：“不要把鸡蛋放在一个篮子里”。今天我想从数学上来说说这句话的原理是什么。了解了原理，你才知道这句话的科学用法 —— 特别是， *到底应该把鸡蛋放在什么样的篮子里。*

为此我们要借助上一期讲的“标准差”的概念。我们知道，标准差，描写了一个随机分布的风险。

## 1.两只股票的故事

从前有一个销售户外体育用品的 A 公司。A 公司的业绩受天气、季节、特别是空气质量的影响非常大。为了简单起见，我们假设有一半的时间户外环境比较好，A 公司的利润是40%；在另外一半的时间户外环境不好，A 公司亏本运营，利润是 - 20%。当然，真实公司的业绩不会对天气如此敏感，我们这里只是打一个比方。

好，现在你可以算出来，A 公司的平均利润，也就是数学期望，是 0.5×0.4 - 0.5×0.2 = 0.1，也就是10%的利润。这个利润其实还可以，但是 A 公司的标准差太大了，搞不好就一下子亏损20%。如果你要买 A 公司的股票，你就得想一想自己能不能承担那么大的风险。

现在还有一家卖室内用品 —— 比如说跑步机、空气净化器之类 —— 的 B 公司。B 公司的销售状况和 A 公司正好相反。户外环境越不好，B 公司的业绩就越好。我们假设 B 公司也是在一半的时间里有40%的利润，在另一半的时间里利润是 - 20%，正好跟 A 公司相反。B 公司的平均利润和标准差都跟 A 公司一样，所以面对 B 公司，你也很犹豫要不要买它的股票。

但是如果这两家公司都摆在你的面前，你该怎么办呢？ **你应该，坚决，同时，购买它们的股票。**

比如你投入100块钱，50块钱买 A 公司，50块钱买 B 公司。咱们来算算你每时每刻的收益。天气好的时候，A 公司盈利40%，B公司损失20%，你的实际赚了10块钱；而天气不好的时候，A公司损失20%，B公司盈利40%，你还是能赚10块钱。

看到没有？不管天气怎么变化，你的利润始终是10%。因为你同时持有这两家公司的股票，你的平均利润没有变化，而你的标准差变成了 0！

这就是分散投资最理想的例子。只买一家公司的股票，你有这么大的预期利润，但是要承担一个风险；而如果你买了两家公司的股票，你还是有这么大的利润，可是你却不用承担风险了。

只要能找到这样的投资组合，这不是躺着赚钱吗？

![https://piccdn3.umiwi.com/img/201802/08/201802081706120519632343.jpg](https://piccdn3.umiwi.com/img/201802/08/201802081706120519632343.jpg)

## 2.组合投资的标准差

真实世界中当然不存在这样两家正好相反的公司。但是只要你能会找到两家公司，它们的表现存在“负的相关性”，你就可以用这两家公司对冲风险。

以前咱们讲《平均的终结》的时候，详细地讲过“相关性”这个概念。所谓相关性就是两个变量一起变化的共同趋势。如果一个变大，另一个也跟着变大，它们就是“正相关”；如果一个变大，另一个变小，它们就是“负相关”。相关性可以用“相关系数”来描写，用希腊字母 ρ（rho）表示，ρ 的数值总是在 -1 和 1 之间。

![https://piccdn3.umiwi.com/img/201802/08/201802081708178760687116.jpg](https://piccdn3.umiwi.com/img/201802/08/201802081708178760687116.jpg)

有了相关系数，我们就可以计算一个投资组合的标准差了。如果你的投资组合里包含 n 只股票，用 W 表示它们所占的权重，那么根据每个股票的标准差和各个股票之间的相关系数，你就可以用下面这个公式计算出这个投资组合的标准差 —— 

![https://piccdn3.umiwi.com/img/201802/08/201802081709432624256899.jpg](https://piccdn3.umiwi.com/img/201802/08/201802081709432624256899.jpg)

这个公式看上去稍微有点复杂，但是其中的道理非常简单。投资组合的标准差是由其中每一只股票的标准差的平方进行加权，再考虑到不同股票之间两两相关的系数来决定。

你不必记住这个公式。但是你应该记住这个公式带来的两个结论。

 *第一，投资组合的标准差，总是小于其中所有股票标准差的加权平均值。*

这个结论只要初中数学就能证明，具体过程我们就不推导了，关键原因就在于 ρ 总是在 -1 和 1 之间。

这意味着什么呢？意味着但凡你把投资分散一下，哪怕你是胡乱选几家公司放在一起，你的风险也降低了。

 *第二，如果能找到一些股票，他们之间的相关系数是负的（ρ < 0），那么投资组合的标准差将会大大降低。*

这就是我们开头那个例子的一般情况。负相关能够*抵消*风险 —— 所以叫做“对冲”。想要做到这一点，你就不能只买同一个领域的股票，因为它们的运动往往是正相关的。你应该各个领域都买一些。比如你买了阿里巴巴，就最好再买一些苏宁易购，因为他们一个做线上一个做线下，（理论上）形成对冲。

两条加起来，就是“不要把鸡蛋放在一个篮子里”这句话的数学原理。我们这么做并不仅仅是一个篮子打翻了还有别的，而是让篮子和篮子互相补充，形成配合。只要有足够的负相关，你的投资组合就会东方不亮西方亮，黑了南方有北方。

所以你要搞投资的话最好不要孤注一掷。理想情况是找到几家高回报率、同时又互相补充的公司做组合投资。如果找不到那么多高回报率的，用几个回报率稍微低一点的公司来对冲风险也是可取的。这就是各种股票基金背后最基本的原理。

## 3.为什么普通人不应该炒股

组合投资有这样的好处，但要真正获得这个好处可没有那么容易。你要知道每只股票的预期收益是多少，你要知道每只股票的标准差是多少，你还要知道它们两两之间的相关系数。

这些数字都是根据各个股票近期的波动情况，用数学模型推算的。计算量非常大。如果你要考虑10只股票，它们之间两两的相关系数就有45个！如果要考虑几百只股票，计算量更是大到难以想象。

这么大的计算量，各种基础分析和技术分析，还要频繁交易才能保证你的投资组合时刻处在一个比较理想的状态。想要做到这些，一个人显然是不行的，它需要一个专业基金公司的运作。这个活儿得分工，有人专门负责研究每个股票的预期收益和标准差，有人专门设计投资组合，有人专门操盘才行。

换句话说，只有在钱足够多的情况下，才值得这么做。

所以，从风险角度来说，个人投资者相对于基金有天然的劣势。当然，风险大有时候你的盈利率会比任何基金都高，但这纯粹是运气。

 *基金是在用系统赚钱，而个人是“富贵险中求”。*

想明白这个道理，我们的结论就是普通人不应该炒股。那咱们了解对冲风险的数学原理有什么用呢？也许你可以用在生活上。

## 4.生活中的对冲

有个故事你可能早就听过。从前有个老太太，两个女儿都嫁人了。大女婿是卖雨伞的，二女婿是开染坊的。老太太到了晴天就担心大女婿生意不好，因为晴天雨伞卖不出去。到了阴雨天又担心二女婿生意不好，因为不能把染好的布晒干。老太太每天都担心，直到她遇到一位心灵鸡汤人士。鸡汤老师开导老太太说，你为什么不想想，晴天二女婿生意好，阴雨天大女婿的生意好呢？

一般人听这个故事都是听个正能量。你知道数学家会从中得到一个什么道理吗？

 *这个道理就是要多生孩子。*

大女婿和二女婿都有不错的收益率和比较大的标准差，正好是我们文章开头那个理想的投资组合。因为老太太有两个女儿，她就能在享受一个很好的收益率的同时，还把标准差给大大缩小了。

对冲的思想可以用于很多事情上。美国总统大选，一般公司搞政治捐款都不是只捐给一个党的，而是给两个党都捐钱 —— 不管谁上台都得感谢它。个人搞政治捐款意义不大，但如果你们公司有两位领导在竞争一个职位，那你应该尽量跟这两个领导都搞好关系……总之多交朋友少树敌就对了。

![https://piccdn3.umiwi.com/img/201802/08/201802081714578729819784.jpg](https://piccdn3.umiwi.com/img/201802/08/201802081714578729819784.jpg)

我们都希望中国队赢球，可是中国队总输球怎么办呢？你可以去赌球网站买中国队输。中国队赢了你高兴，中国队输了你还能获得一点金钱上的安慰。

年轻的时候应该多学一些不同的技能，最好这些技能不要集中在同一个领域，要形成对冲的关系。不管将来经济形势如何变化你都有用武之地。

买保险是最简单的对冲。花钱不多，一旦有事就能用上。保险公司在乎的是数学期望，只要参保的人足够多他们总能赚钱，而我们在乎的是标准差。

## | 由此得到

1. 组合投资的标准差总是小于其中每只股票标准差的加权平均，所以组合投资总是降低风险的。

2. 如果你有办法让组合投资中的不同项目之间存在负相关的关系，那你能大大降低风险。

3. 这个道理既适用于投资，也适用于生活。

最后我还想说一点。对冲这个思想也不能滥用。

 *对冲仅仅是为了降低风险。只有在害怕风险的情况下，才值得去做对冲。如果风险不大，那集中才有力量。*

比如说谈恋爱吧。如果你对每个姑娘都很好，那很可能一个姑娘都追不到。既然谈恋爱这件事没有多大风险 —— 也许有个机会成本 —— 你应该集中追求一个姑娘。你要是不满足于当个安全的旁观者，想*参与*公司政治斗争，那两头下注就是不行的。

![https://piccdn3.umiwi.com/img/201802/08/201802081716453079765740.jpg](https://piccdn3.umiwi.com/img/201802/08/201802081716453079765740.jpg)

对冲，本质上是个保守的做法。即便在投资界，也不是所有人都认可对冲。纳西姆·塔勒布赚了很多钱，而他在《反脆弱》这本书里就表示完全不屑于对冲风险 —— 他的做法是把大部分钱用于购买零风险的债券，然后一小部分钱用于最高回报、但也是最高风险的投资。他说那些中等回报、中等风险的东西都是给 suckers 准备的。

你从数学上无法证明哪种方法更有利。巴菲特发家也不是靠对冲，他是选准了股票下重注 —— 而你无法从数学上证明他的成功到底是不是因为运气好。

总而言之，风险和收益之间有矛盾。你不可能又要高收益又要低风险。

![https://piccdn3.umiwi.com/img/201802/08/201802081717507875958521.jpg](https://piccdn3.umiwi.com/img/201802/08/201802081717507875958521.jpg)

电影里说出“富贵险中求”这句话的人最后都死了，但是真实世界中未必。我们今天讲的只是一个工具。到底是要富贵险中求，还是把鸡蛋放在不同篮子里，取决于你的风险承受能力 —— 我们最多只是告诉你，如果你要放篮子的话，应该选什么样的篮子。

![https://piccdn3.umiwi.com/img/201802/08/201802081718146453845032.png](https://piccdn3.umiwi.com/img/201802/08/201802081718146453845032.png)

---
